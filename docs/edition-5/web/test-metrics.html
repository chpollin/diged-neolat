<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metrics Test - Lucina Digital Edition</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .test-container {
            margin-top: 50px;
        }
        
        .poem-section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        
        .line {
            margin: 10px 0;
            padding: 5px 0;
        }
        
        .ln {
            display: inline-block;
            width: 30px;
            color: #999;
            margin-right: 20px;
        }
        
        .txt {
            display: inline;
        }
        
        h2 {
            color: #333;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <header class="nav" role="banner">
        <div class="nav-left">
            <div class="brand">Metrics Test</div>
            <button id="metricsToggle" class="nav-link-btn metrics-toggle" title="Toggle metrical annotations">
                📏 Show Metrics
            </button>
        </div>
    </header>

    <div class="test-container">
        <h1>Metrical Pattern Display Test</h1>
        <p>Click the "Show Metrics" button above to see metrical patterns above each Latin verse.</p>
        
        <div class="poem-section">
            <h2>Sample Elegiac Couplets</h2>
            
            <div class="line">
                <span class="ln">1</span>
                <span class="txt">Maecenas aequitum, Calabrae quoque gloria gentis,</span>
            </div>
            
            <div class="line">
                <span class="ln">2</span>
                <span class="txt">insubrium et quinti maxima cura ducis!</span>
            </div>
            
            <div class="line">
                <span class="ln">3</span>
                <span class="txt">Dulcis amice, tuum iam pridem nomen in astra</span>
            </div>
            
            <div class="line">
                <span class="ln">4</span>
                <span class="txt">ferre meis cupio versibus atque legi</span>
            </div>
            
            <div class="line">
                <span class="ln">5</span>
                <span class="txt">te celebrare palam, quem privata domus celat,</span>
            </div>
            
            <div class="line">
                <span class="ln">6</span>
                <span class="txt">cui placuit numquam publica pompa loci.</span>
            </div>
        </div>
        
        <div class="poem-section">
            <h2>Expected Behavior</h2>
            <ul>
                <li><strong>Default State:</strong> Shows plain Latin text with line numbers</li>
                <li><strong>Metrics Enabled:</strong> Shows scansion pattern above each line</li>
                <li><strong>Pattern for odd lines (hexameter):</strong> — ˘ ˘ | — ˘ ˘ | — || — ˘ ˘ | — ˘ ˘ | — ˘ ˘ | — ×</li>
                <li><strong>Pattern for even lines (pentameter):</strong> — ˘ ˘ | — ˘ ˘ | — || — ˘ ˘ | — ˘ ˘ | —</li>
                <li><strong>Visual:</strong> Gray text (#666), 80% font size, 0.5em padding below notation</li>
            </ul>
        </div>
    </div>

    <!-- Load metrics module -->
    <script src="js/metrics.js"></script>
    
    <script>
        // Initialize metrics when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded');
            
            // Check if metrics module is available
            if (window.metricsAPI) {
                console.log('Metrics API available:', window.metricsAPI);
                window.metricsAPI.init();
            } else {
                console.error('Metrics API not found!');
            }
        });
    </script>
</body>
</html>