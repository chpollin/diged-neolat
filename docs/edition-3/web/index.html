<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Digital edition of Aurelius Laurentius Albrisius's Lucina (1474) - 128 Latin occasional poems from the Sforza court">
    <meta name="author" content="Aurelius Laurentius Albrisius">
    
    <title>Lucina: A Digital Edition</title>
    
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="header-content">
            <h1 class="site-title">Lucina</h1>
            <p class="site-subtitle">A Digital Edition of 128 Latin Occasional Poems</p>
            <p class="site-author">Aurelius Laurentius Albrisius · 1474</p>
        </div>
        
        <nav class="main-nav">
            <button class="nav-btn active" data-view="reading">Reading View</button>
            <button class="nav-btn" data-view="manuscript">Manuscript</button>
            <button class="nav-btn" data-view="network">Network</button>
            <button class="nav-btn" data-view="search">Search</button>
            <button class="nav-btn" data-view="about">About</button>
        </nav>
    </header>
    
    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Contents</h2>
                <button class="sidebar-toggle" id="sidebarToggle">◀</button>
            </div>
            
            <div class="sidebar-content">
                <!-- Search Box -->
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search poems, persons, lines...">
                </div>
                
                <!-- Filter Options -->
                <div class="filter-section">
                    <h3>Filter by</h3>
                    <select id="meterFilter" class="filter-select">
                        <option value="">All meters</option>
                        <option value="elegiac">Elegiac (66)</option>
                        <option value="hendecasyllabic">Hendecasyllabic (60)</option>
                        <option value="sapphic">Sapphic (1)</option>
                    </select>
                    
                    <select id="genreFilter" class="filter-select">
                        <option value="">All genres</option>
                        <option value="epistle">Epistle (109)</option>
                        <option value="prayer">Prayer (9)</option>
                        <option value="erotic">Erotic (3)</option>
                        <option value="epitaph">Epitaph (3)</option>
                        <option value="epideictic">Epideictic (2)</option>
                        <option value="paraenesis">Paraenesis (1)</option>
                    </select>
                </div>
                
                <!-- Table of Contents -->
                <div class="toc-section">
                    <h3>Books</h3>
                    <div id="tocContainer" class="toc-container">
                        <!-- Generated by JavaScript -->
                    </div>
                </div>
                
                <!-- Statistics -->
                <div class="stats-section">
                    <h3>Statistics</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value">128</span>
                            <span class="stat-label">Poems</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">2166</span>
                            <span class="stat-label">Lines</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">97</span>
                            <span class="stat-label">Persons</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">130</span>
                            <span class="stat-label">References</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Main Content Area -->
        <main class="main-content" id="mainContent">
            <!-- Reading View (default) -->
            <div id="readingView" class="view-container active">
                <div class="content-header">
                    <h2 id="currentPoemTitle">Select a poem from the sidebar</h2>
                    <div class="view-controls">
                        <button class="btn-icon" id="prevPoem" title="Previous poem">←</button>
                        <button class="btn-icon" id="nextPoem" title="Next poem">→</button>
                        <button class="btn-icon" id="toggleLineNumbers" title="Toggle line numbers">№</button>
                        <button class="btn-icon" id="toggleIndentation" title="Toggle indentation">¶</button>
                        <button class="btn-icon" id="zoomIn" title="Increase font size">A+</button>
                        <button class="btn-icon" id="zoomOut" title="Decrease font size">A-</button>
                    </div>
                </div>
                
                <div id="poemContent" class="poem-container">
                    <!-- Poem content loaded here -->
                    <div class="welcome-message">
                        <h3>Welcome to the Digital Edition of Lucina</h3>
                        <p>This collection of 128 Latin occasional poems by Aurelius Laurentius Albrisius, 
                        preserved in Madrid MS 6028 (1474), offers intimate insights into literary culture 
                        at the Sforza courts of Pavia and Milan.</p>
                        
                        <p>Select a poem from the sidebar to begin reading, or explore the manuscript, 
                        prosopographical network, and search features using the navigation above.</p>
                        
                        <div class="quick-stats">
                            <h4>Collection Overview</h4>
                            <ul>
                                <li><strong>Praefatio:</strong> Dedicatory poem to Cicco Simonetta</li>
                                <li><strong>Book I:</strong> 43 poems - Love initiation and court poetry</li>
                                <li><strong>Book II:</strong> 37 poems - Patronage and consummation</li>
                                <li><strong>Book III:</strong> 47 poems - Renunciation and spiritual turn</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="poem-metadata" id="poemMetadata">
                    <!-- Metadata loaded here -->
                </div>
            </div>
            
            <!-- Manuscript View -->
            <div id="manuscriptView" class="view-container">
                <div class="manuscript-header">
                    <h2>Madrid, Biblioteca Nacional, Mss. 6028</h2>
                    <p>176 folios
                   · Parchment · 1474-08-02</p>
                </div>
                
                <div class="manuscript-viewer">
                    <div class="manuscript-controls">
                        <button id="prevPage">← Previous</button>
                        <span id="pageInfo">Page 1 of 176</span>
                        <button id="nextPage">Next →</button>
                    </div>
                    
                    <div class="manuscript-display">
                        <div class="facsimile-container" id="facsimileContainer">
                            <img id="facsimileImage" src="" alt="Manuscript page">
                        </div>
                        
                        <div class="transcription-container" id="transcriptionContainer">
                            <!-- Synchronized transcription -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Network View -->
            <div id="networkView" class="view-container">
                <div class="network-header">
                    <h2>Prosopographical Network</h2>
                    <p>Social connections in the Sforza court (c. 1470-1474)</p>
                </div>
                
                <div class="network-controls">
                    <button id="resetNetwork">Reset View</button>
                    <select id="networkFilter">
                        <option value="all">All Persons</option>
                        <option value="frequent">Most Referenced (>3)</option>
                        <option value="simonetta">Simonetta Family</option>
                        <option value="sforza">Sforza Court</option>
                    </select>
                </div>
                
                <div id="networkCanvas" class="network-canvas">
                    <!-- Network visualization will be rendered here -->
                </div>
                
                <div id="personDetails" class="person-details">
                    <!-- Person details on click -->
                </div>
            </div>
            
            <!-- Search View -->
            <div id="searchView" class="view-container">
                <div class="search-header">
                    <h2>Advanced Search</h2>
                </div>
                
                <div class="search-form">
                    <input type="text" id="advancedSearchInput" placeholder="Enter search terms..." class="search-input">
                    
                    <div class="search-options">
                        <label><input type="checkbox" id="searchPoems" checked> Poems</label>
                        <label><input type="checkbox" id="searchPersons" checked> Persons</label>
                        <label><input type="checkbox" id="searchLines" checked> Lines</label>
                        <label><input type="checkbox" id="searchMetadata"> Metadata</label>
                    </div>
                    
                    <button id="performSearch" class="btn-primary">Search</button>
                </div>
                
                <div id="searchResults" class="search-results">
                    <!-- Search results displayed here -->
                </div>
            </div>
            
            <!-- About View -->
            <div id="aboutView" class="view-container">
                <div class="about-content">
                    <h2>About This Edition</h2>
                    
                    <section class="about-section">
                        <h3>The Work</h3>
                        <p>The <em>Lucina</em> of Aurelius Laurentius Albrisius is a collection of 128 Latin 
                        occasional poems preserved in the magnificently decorated Madrid Codex (Biblioteca Nacional, 
                        Mss. 6028), completed on August 2, 1474. This parchment dedication manuscript presents a 
                        work previously unknown to scholarship—a significant lacuna given its intimate portrayal 
                        of literary culture at the Sforza courts in Quattrocento Italy.</p>
                    </section>
                    
                    <section class="about-section">
                        <h3>The Author</h3>
                        <p>Albrisius (c. 1440-1445, Cremona) studied canon law in Perugia before serving as tutor 
                        to Cicco Simonetta's sons. His career culminated in his coronation as poet laureate by 
                        Emperor Frederick III (1468/69 in Rome). Despite being married with four children, 
                        Albrisius constructs in <em>Lucina</em> a literary autobiography centered on youthful passion.</p>
                    </section>
                    
                    <section class="about-section">
                        <h3>Technical Implementation</h3>
                        <p>This digital edition follows TEI P5 Guidelines with customizations for Renaissance Latin 
                        occasional poetry. The edition was created using innovative "Promptotyping" methodology, 
                        demonstrating how AI can assist in digital humanities scholarship while maintaining 
                        rigorous academic standards.</p>
                        
                        <div class="tech-details">
                            <h4>Technologies Used</h4>
                            <ul>
                                <li>TEI XML encoding with comprehensive prosopographical data</li>
                                <li>Python processing with detailed logging</li>
                                <li>Modern responsive web interface</li>
                                <li>D3.js for network visualizations</li>
                                <li>Full-text search capabilities</li>
                            </ul>
                        </div>
                    </section>
                    
                    <section class="about-section">
                        <h3>Citation</h3>
                        <div class="citation-box">
                            <p>Albrisius, Aurelius Laurentius. <em>Lucina: A Digital Edition</em>. 
                            Ed. [Editor Name]. 2024. Web. 21 August 2025.</p>
                        </div>
                    </section>
                </div>
            </div>
        </main>
        
        <!-- Secondary Sidebar (Person/Context Info) -->
        <aside class="info-panel" id="infoPanel">
            <button class="info-close" id="closeInfo">×</button>
            <div id="infoPanelContent">
                <!-- Dynamic content loaded here -->
            </div>
        </aside>
    </div>
    
    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <p>© 2024 Digital Edition of Lucina · Generated 2025-08-21</p>
            <p>Source: Madrid, Biblioteca Nacional, Mss. 6028</p>
        </div>
    </footer>
    
    <!-- Load data and scripts -->
    <script src="poems-data.js"></script>
    <script src="persons-data.js"></script>
    <script src="app.js"></script>
</body>
</html>